

















基础设施智慧服务系统（iS3） 安装使用手册
















同济大学 土木信息技术教育部工程研究中心 中国智慧基础设施联盟


2018.11








 
 




目录 

第一章   概述 .................................................................... 1 


第二章  系统运行环境  ............................................................ 1 


2.1硬件要求  ...................................................................  1 

2.2操作系统要求  ...............................................................  1 

2.3数据库要求  .................................................................  1 

2.4运行所需插件要求  ...........................................................  1 


第三章   安装步骤 ................................................................ 2 


3.1安装客户端插件  .............................................................  2 
3.1.1 IronPython-2.7.5 ...................................................... 2 
3.1.2 UnityWebPlayer ........................................................ 3 
3.1.3 UnityWebPlayerFull .................................................... 4 

3.2安装客户端软件  .............................................................  5 


第四章  系统操作界面  ............................................................ 8 


4.1查看工程项目  ...............................................................  8 

4.2可视化交互界面  .............................................................  9 
4.2.1二维可视化界面 .........................................................   9 
4.2.2三维可视化界面 ........................................................   12 

4.3脚本语言交互/数据库查看界面  ............................................... 13 
4.3.1脚本语言交互界面 ......................................................   13 
4.3.2数据库查看界面 ........................................................   14 

4.4工程对象数交互界面  ........................................................  14 

4.5工程对象信息查看界面  ...................................................... 15 

4.6常见问题  ..................................................................  17 


第五章  某隧道数据配置案例  ..................................................... 18 
 

5.1新增工程  ..................................................................  18 

5.2数据配置  ..................................................................  18 
5.2.1设置配置工具路径 ......................................................   19 
5.2.2选择配置工程 ..........................................................   19 
5.2.3设置已选工程数据路径 ..................................................  20 
5.2.4二维数据配置 ..........................................................   21 
5.2.4数据对象组关联配置 ....................................................   25 
5.2.5数据对象树定义 ........................................................   30 

5.3数据集成  ..................................................................  32 

5.4数据关联  ..................................................................  33 

5.5数据二三维联动  ............................................................  34 


 
 


第一章 概述
iS3是基础设施智慧服务系统（infrastructure Smart Service System）的简 称，由同济大学自主研发，拥有完全自主知识产权。iS3是一套基础设施全寿命数 据采集、处理、表达、分析的一体化决策服务系统。主要服务于道路、桥梁、隧 道、综合管廊、基坑等基础设施对象，涵盖从规划、勘察、设计、施工到运营维护 各阶段不同信息流节点的全寿命周期。广义上讲，iS3适用于任何领域的信息化应 用。 
此文档介绍的是iS3基础设施智慧服务系统网络版的安装使用，iS3基础设施智 慧服务系统网络版是在单机版功能基础上，还具有通过iS3云服务在线管理基础设 施全寿命数据的能力，实时加载各种类型工程数据，并支持自定义分析工具等二次 开发功能。 

第二章 系统运行环境


2.1 硬件要求
	Intel 或 AMD  处理器 PC机 
⚫软件所占空间不超过1G磁盘空间 


2.2 操作系统要求
⚫32/64 位 Windows 7及以上 
	.net framework 4.5


2.3 数据库要求
	Sqlserver2008

2.4 运行所需插件要求
	Python插件：IronPython-2.7.5
	Unity3D插件: UnityWebPlayer和UnityWebPlayerFull
 


第三章 安装步骤


3.1 安装客户端插件
iS3基础设施智慧服务系统网络版运行需安装三个插件，插件安装包请通过百 度云网盘自行下载。下载后进入保存目录，按顺序依次安装即可。（百度云地址： https://pan.baidu.com/s/13u2mzuLzLWn0BVwQCkRNVw;密码：wisp） 







































3.1.1 IronPython-2.7.5 

iS3二次开发主要插件。双击【IronPython-2.7.5】，即可安装。安装完成后 关闭此页面即可。 
 


























3.1.2 UnityWebPlayer iS3平台三维界面主要插件。双击【UnityWebPlayer】，即可安装。安装完成
后关闭此页面即可。 

























 
 



























3.1.3 UnityWebPlayerFull iS3平台三维界面主要插件。双击【UnityWebPlayerFull】，即可安装。安装
完成后关闭此页面即可。 

























 
 




























3.2 安装客户端软件
iS3基础设施智慧服务系统安装包请通过百度云网盘自行下载。（百度云地 址：https://pan.baidu.com/s/13u2mzuLzLWn0BVwQCkRNVw;密码：wisp） 









下载文件夹iS3 v1.2后，进入保存目录，双击iS3 v1.2/bin/iS3.Desktop.exe
，便可运行iS3平台。进行系统配置后，输入账户密码即可运行主程序。默认初始 账户密码均为admin，主数据库IP为127.0.0.1，主数据库为iS3Project，数据库账 户为sa，数据库密码为123456。 
 
 











































 
 



登录成功后，此页面即为iS3平台主界面。 












工程项目 










 
 


第四章 系统操作界面
以iS3测试案例为例，介绍如何使用iS3平台基础功能。此案例的数据已导入软 件，无需再进行数据准备导入步骤。 

4.1 查看工程项目
滚动鼠标可放大/缩小地图，拖动鼠标可移动地图，移动鼠标至地图标记处显 示工程项目名称，点击【iS3测试案例】，即进入该项目的具体工程信息界面。 




























跳转此界面即为iS3测试案例的具体工程信息界面，根据操作可分为四块区 域。 
左上部分：可视化交互界面； 
左下部分：脚本语言交互界面/数据库查看界面； 
右上部分：工程对象数交互界面； 
右下部分：工程对象信息查看界面。 右上角为快捷键。 
右上角 ：返回系统主界面； 
右上角 ：运行脚本语言。 
 



可视化交互界面 


工程对象数交互界面 





脚本语言交互界面 




 
数据库查看界面 
 
工程对象信息查看界面
 









4.2 可视化交互界面
此模块可实现2D平面图/剖面图/数据视图/3D视图一体化联动，快速高效展示 工程信息。 
4.2.1 二维可视化界面 

单击【BaseMap】即可查看二维可视化界面，滚动鼠标可放大/缩小地图，鼠标 拖动拖动可移动地图。 























通过点击显示区上部	可对此界面进行基础操作。 
 


	可通过点选不同图层更改显示图层； 
 
	 单击此按钮，弹跳处右上标红区域，可通过鼠标拖动指针 旋转地图； 






















	随机选取一个监测点，单击此按钮，可将所要查看的监测 点/范围居于地图中心； 
 

 


	单击此按钮，可根据需求大范围选择所需查看信息； 






















	单击此按钮，弹跳出下列标红区域，可根据需求，布置点 线面等操作，单击最后一个按钮，即可关闭此界面。 


















 
 

4.2.2 三维可视化界面 

单击【Map3D】即可切换至三维可视化界面，滚动鼠标可放大/缩小地图，鼠标 右键拖动可旋转地图。 




















鼠标左键点击【Map3D】并拖动，可将二维、三维可视化界面并排显示。 

























 
例如选择左右排列，如下图所示。可通过选取任意一点监测点，在其任意界面 实现数据交互显示。 
 






























4.3 脚本语言交互/数据库查看界面
4.3.1 脚本语言交互界面 

切换至【Python】可根据需求对软件进行二次开发，配置iS3内置工具、查看 参数、分析工程信息等需求。 


























 
 

4.3.2 数据库查看界面 

切换至【Data List】便可对数据库进行查看，点击右上方【监测点】，数据 库中变会弹跳出此项目工程信息中所有监测点的信息。 




























单击【ID】此行任意名称，可根据其需求排序。 






4.4 工程对象数交互界面
iS3测试案例较为单一，仅有监测点显示，不同的工程项目可查看对象数不 同，较为复杂的工程项目可能包含地质、监测点等信息。 
 

 


4.5 工程对象信息查看界面
【Object View】可对工程信息分别进行曲线图、表格、文本形式查看。 






























单击	可将曲线图全屏，对于数据查看分析更加一目了然。 
 






















 
切换至【Tools】，可查看拓展分析工具，基于iS3框架自主开发相应的工具， 后续将陆续更新工具库内容。 
 


4.6 常见问题 Q1：插件安装完成后，在运行iS3.desktop.exe时，加载3D文件若卡死在如下界面 或加载失败，可尝试一下解决办法。 
 
方法一： 

根据链接下载unity文件夹，将下载好的unity文件夹复制至C:\Users\(当前用 户)\AppData\LocalLow\unity文件夹中，需先设置显示隐藏文件夹。 
（链接：https://pan.baidu.com/s/1uV4RqrbBI777ec9FfyaC1A 密码：k5jr） 方法二： 
重新安装Unity 3d  WebPlayer插件。 备注：若以上方法均无效，请关机重启或断网尝试再次运行iS3单机版。 
 


第五章 某隧道数据配置案例
本章将以基础设施智慧服务系统（iS3）数据准备手册第六章某隧道为例，讲 解如何将准备好的二维数据、三维数据集成进iS3平台。通过使用iS3-config配置 工具后，将二维数据、三维数据、数据库中的工程数据关联起来，实现二三维数据 联动。 

5.1 新增工程 
打开iS3平台，进入工程列表界面，点击左下角“新增工程”，填写工程ID为 “TunnelDemo”和工程描述信息“iS3 Chuzhou Trainning”。点击“选取地图位 置”，在右边地图区域点击工程相应的位置，然后点击“确定”按钮，即可添加工 程。 





























5.2 数据配置 
将采用配置工具iS3-Config进行iS3工程的数据配置工作。配置工具存放在“
iS3 V 1.2\iS3-Config\bin”目录下，双击“iS3.Config.exe”即可打开。 
 

5.2.1 设置配置工具路径 

打开配置工具后，进行iS3运行程序路径的设置，指定二维、三维数据的存放 位置，设置数据库地址（默认为本机，即127.0.0.1），填写数据库的登陆用户名 和密码 （ 默 认 用 户 名 ： sa ， 默认 密 码 ： 123456 ） 。 设置 完 毕 后 ， 点 击 “Start configuration”进行下一步。 






















5.2.2 选择配置工程 

工程列表将列出数据库“iS3Project”中“Sys_ProjectListInfo”表里存放 的工程，由于我们在5.1节中新增了一个“TunnelDemo”工程，因此可在列表中查 看。在“Avaliable Projects”中选择“TunnelDemo”工程，并点击“Next”进行 下一步。 
 
 

5.2.3 设置已选工程数据路径 

设置本工程的“ID”和“Title”为“TunnelDemo”，“Local data path”指 定本工程的二维数据、三维数据存放位置，“Local tile path”指定本工程的由 Arcgis导出的离线切片包位置。 
 
 



 

5.2.4 二维数据配置 

5.2.4.1 平面图配置 
点击左下角的“+”，新增一张二维地图。“Eng.Map ID”表示这张地图的编 号，设置 为 “Map0” ； “Eng.Map type” 表 示 这 张 地 图 的 类型 ，设置为 “FootPrintMap”，即平面图；“Local tiled map”表示要加载的离线切片包， 通过点击“…”打开选择窗口选择“Planview.tpk”； “Local GeoDB map”表示 要 加 载 的 geodatabase 文 件 ， 通 过 点 击 “…” 打 开 选 择 窗 口 选 择 “Planview.geodatabase”。 
 































































选择打开“Planview.geodatabase”文件后，可以将该文件含有的图层加载进 来，包括“River”、“TunnelPlan”和“MonPoint”。可以点击其中某一个图 层，对该图层的绘制方式进行设置。如选中“MonPoint”图层，再点击“Layer 
 

Setting”可对“MonPoint”进行设置。 

 
5.2.4.2 剖面图配置 

点击左下角的“+”，再新增一张二维地图。“Eng.Map ID”表示这张地图的 编号，设置 为 “Map1” ； “Eng.Map type” 表示这张地图的 类型 ，设置为 “GeneralProfileMap”，即剖面图；“Local tiled map”表示要加载的离线切片 包，通过点击“…” 打开选 择窗 口选 择“Profileview.tpk”； “Local GeoDB map” 表示要 加 载 的 geodatabase 文件 ， 通过 点击 “…” 打开 选 择 窗 口 选 择 “profileview.geodatabase”。 
 

 









































 
选择打开“profileview.geodatabase”文件后，可以将该文件含有的图层加 载进来，包括“Stratum”和“TunnelSection”。可以点击其中某一个图层，对该 图层的绘制方式进行设置。如选中“Stratum”图层，再点击“Layer Setting”可
 

对“Stratum”进行设置。 

 
配置完平面图和剖面图后，点击“Next”进入下一步。 5.2.4 数据对象组关联配置 
点击“Domains”下方的“+”按钮，可弹出“Input domain information”窗 口，添加本工程存在的“Domain”，选择“Geology”，点击“OK”即可添加。重 复本步骤，将 “Monitoring”和“Structure”也添加进来。 
 



 



在“Domains”选框里选中“Geology”，点击“Digital objects”下方的 “+”按钮，可弹出“Input digital object name”窗口，输入该Domain中存在的 对象组名“ALLSTRA”，即可添加该对象组。 
 
 

点击“Table name”后面的“…”按钮，选择数据库中本对象组对应的数据表 “STRA”，即可将对象组与该数据表关联起来。 




















 
勾选“Has 2D Model”，表示本对象组有相对应的二维图层与之关联。点击 “2D Layer”后的“…”按钮，选择剖面图“Map1”中的“Stratum”图层，即可 将对象组与该图层关联起来。 
 

在“Domains”选框里选中“Monitoring”，点击“Digital objects”下方的 “+”按钮，可弹出“Input digital object name”窗口，输入该Domain中存在的 对象组名“MonPoint”，即可添加该对象组。 



















 
点击“Table name”后面的“…”按钮，选择数据库中本对象组对应的数据表 “MonPoint”，即可将对象组与该数据表关联起来。 



















 
 

勾选“Has 2D Model”，表示本对象组有相对应的二维图层与之关联。点击 “2D Layer”后的“…”按钮，选择平面图“Map0”中的“MonPoint”图层，即可 将对象组与该图层关联起来。 




















 
勾选“Has 3D Model”，表示本对象组有相对应的三维图层与之关联。点击 “3D Layer”后的“…”按钮，选择“iS3Project/MonPoint/MonPoint”图层，即 可将对象组与该图层关联起来。 






















数据对象组关联配置完成后，点击“Next”进入下一步。 
 

5.2.5 数据对象树定义 

本节讲解如何配置对象树。 选中“Geology”选项卡，配置在该Domain里的对象树。在对象树（左边白色
框内）右击，点击“Add”，增加一个节点。 






















选中新增加的节点，往“Name”,“Display name”填入“地层”，将

“Digital objects”选择为对象组“ALLSTRA”，即可将对象树上的“地层”节点 与对象组“ALLSTRA”关联起来。 
 

选中“Monitoring”，配置在该Domain里的对象树。在对象树（左边白色框 内）右击，点击“Add”，增加一个节点。 




















 
选中新 增加的节点 ， 往 “ Name”,“Display name” ，分别 填写 为 “ 监测 点”，将“Digital objects”选择为对象 组“MonPoint”，即可将对象树上的 “监测点”节点与对象组“MonPoint”关联起来。 




















 
配 置 完 对 象 树 后 ， 按 “Finish” ， 即 可 生 成 “ TunnelDemo.py” 和 “TunnelDemo.xml”，保存在了\iS3 V 1.2\Data\TunnelDemo文件夹内。 
 


5.3 数据集成
经过了工程数据的准备以及数据配置的工作，运行iS3平台，可以在工程列表 中看到“TunnelDemo”工程，进入该项目。 






















 
进入项目后，可以看到iS3的加载过程。根据我们的配置需求，iS3平台将工程 数据以平面图、剖面图以及三维图加载了进来，说明程序完成了数据集成功能。 






















 
 

 


5.4 数据关联
在对象树中，我们选取“地层”节点，可以在“DataList”列表中查看该对象 组在数据库的信息，完成了对象树与对象组之间的关联。在剖面图内，或者数据表 内点击某个地层，可在右下角的对象查看框中看到该对象的信息，说明完成了对象 与数据表的关联。 






















 
 


5.5 数据二三维联动
在平面图上选取了一个监测点，在平面图中该监测点被高亮，在数据表中也高 亮了出来，在三维图中该监测点也被高亮。在三维图中选取一个监测点，也会发现 平面图、数据表中该点的信息被高亮。可以说明，程序已经完成了二三维联动的功 能。 
 

 
























 
